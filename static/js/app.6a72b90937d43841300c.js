webpackJsonp([1],{"6Z0E":function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("7+uW"),r={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var i=n("VU/8")({name:"App"},r,!1,function(e){n("QYEl")},null,null).exports,o=n("/ocq"),s=n("kxiW"),c=n.n(s),u={name:"Comics",data:function(){return{comics:[],name:"",image:""}},firestore:function(){return{comics:V.collection("comics").orderBy("createdAt")}},methods:{addComic:function(e,t){var n=new Date;V.collection("comics").add({name:e,image:t,createdAt:n}),this.name="",this.image=""},deleteComic:function(e){V.collection("comics").doc(e).delete()},logout:function(){var e=this;c.a.auth().signOut().then(function(){e.$router.replace("login")})}}},l={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("button",{staticClass:"button logout",on:{click:e.logout}},[e._v("Logout")]),e._v(" "),e._l(e.comics,function(t,a){return n("article",{key:a,staticClass:"covers"},[n("div",[n("img",{staticStyle:{margin:"10px"},attrs:{src:t.image,height:"291px",width:"192px"}}),e._v(" "),n("p",[e._v(e._s(t.name))]),e._v(" "),n("hr"),e._v(" "),n("button",{staticClass:"button",on:{click:function(n){e.deleteComic(t.id)}}},[e._v("\n        Delete\n      ")])])])}),e._v(" "),n("form",{on:{submit:function(t){e.addComic(e.name,e.image)}}},[n("h2",[e._v("Add a New Comic Cover")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"input",attrs:{placeholder:"Comic Name",required:""},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.image,expression:"image"}],staticClass:"input",attrs:{placeholder:"Comic Image URL",required:""},domProps:{value:e.image},on:{input:function(t){t.target.composing||(e.image=t.target.value)}}}),e._v(" "),n("button",{staticClass:"button",attrs:{type:"submit"}},[e._v("Add New Comic")])])],2)},staticRenderFns:[]},m=n("VU/8")(u,l,!1,null,null,null).exports,d=n("rEtP"),p=n.n(d),v={name:"CampWeekProgramCard",fiery:!0,props:["camp","week","edit","fire","collapsed"],components:{Datepicker:n("IC97").a},computed:{programsThisWeek:function(){var e=this,t=[];return this.camp.programs.forEach(function(n){e.week?n.sessions.forEach(function(a){e.sessioninweek(a)&&t.push(n)}):t.push(n)}),t}},data:function(){return{mydate:""}},methods:{remove:function(e){console.log(this+e[".uid"]),this.fire.remove(e)},addsession:function(e){this.fire.ref(e,"sessions").add({date:this.mydate})},sessioninweek:function(e){return e.date.seconds>=this.week.seconds&&e.date.seconds<this.week.seconds+604800}}},h={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.programsThisWeek.length>0||e.edit?n("div",{staticClass:"card"},[n("b",{staticStyle:{width:"100%"},on:{click:function(t){e.collapsed=!e.collapsed}}},[e._v(e._s(e.camp.name)+" "),e.collapsed?n("span",[e._v("("+e._s(e.programsThisWeek.length)+")")]):e._e()]),e._v(" "),e.collapsed?e._e():n("div",[n("hr"),e._v(" "),e._l(e.programsThisWeek,function(t,a){return n("div",{key:a,staticClass:"onesession"},[n("span",{staticStyle:{"font-size":"20px"}},[e._v("âœ©")]),e._e(),e._v("\n      "+e._s(t.name)+"\n      "),e._l(t.sessions,function(t,a){return n("div",{key:a},[e.edit?n("span",{on:{click:function(n){e.remove(t)}}},[e._v("x")]):e._e()])}),e._v(" "),e.edit?n("datepicker",{attrs:{"use-utc":"",placeholder:"Start Date"},model:{value:e.mydate,callback:function(t){e.mydate=t},expression:"mydate"}}):e._e(),e._v(" "),e.edit?n("button",{on:{click:function(n){e.addsession(t)}}},[e._v("add")]):e._e()],2)})],2)]):e._e()},staticRenderFns:[]};var g=n("VU/8")(v,h,!1,function(e){n("oYfq")},"data-v-11e37250",null).exports,f=n("Zzkc"),_={name:"CampAdmin",components:{CampWeekProgramCard:g,"photoshop-picker":f.Photoshop},fiery:!0,props:["id"],data:function(){return{color:"#000",camp:this.$fiery(V.collection("camps/").doc(this.id),{sub:{programs:{sub:{sessions:{}}}}}),newprogram:{name:"",url:"",image:""}}},methods:{addProgram:function(e){new Date;V.collection("camps/"+this.id+"/programs").add(e),this.newprogram={}},updateValue:function(){},addSession:function(e,t){},deleteProgram:function(e){this.$fiery.remove(e)},remove:function(e){this.$fiery.remove(e[".uid"])},logout:function(){var e=this;c.a.auth().signOut().then(function(){e.$router.replace("login")})}}},w={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("button",{staticClass:"button logout",on:{click:e.logout}},[e._v("Logout")]),e._v("\n  "+e._s(e.camp.name)+"\n  "),e._l(e.camp.programs,function(t,a){return n("article",{key:a,staticClass:"covers"},[n("div",[n("p",[e._v(e._s(t.name))]),e._v(" "),n("photoshop-picker",{attrs:{value:e.color},on:{input:e.updateValue}}),e._v(" "),n("button",{staticClass:"button",on:{click:function(n){e.deleteProgram(t)}}},[e._v("Delete")])],1)])}),e._v(" "),n("CampWeekProgramCard",{attrs:{camp:e.camp,edit:!0,fire:this.$fiery}}),e._v(" "),n("form",{on:{submit:function(t){e.addProgram(e.newprogram)}}},[n("h2",[e._v("Add a New Program")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.newprogram.name,expression:"newprogram.name"}],staticClass:"input",attrs:{placeholder:"Program Name",required:""},domProps:{value:e.newprogram.name},on:{input:function(t){t.target.composing||e.$set(e.newprogram,"name",t.target.value)}}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.newprogram.url,expression:"newprogram.url"}],staticClass:"input",attrs:{placeholder:"Program URL",required:""},domProps:{value:e.newprogram.url},on:{input:function(t){t.target.composing||e.$set(e.newprogram,"url",t.target.value)}}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.newprogram.description,expression:"newprogram.description"}],staticClass:"input",attrs:{placeholder:"Program Description",required:""},domProps:{value:e.newprogram.description},on:{input:function(t){t.target.composing||e.$set(e.newprogram,"description",t.target.value)}}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.newprogram.cost,expression:"newprogram.cost"}],staticClass:"input",attrs:{placeholder:"Cost",required:""},domProps:{value:e.newprogram.cost},on:{input:function(t){t.target.composing||e.$set(e.newprogram,"cost",t.target.value)}}}),e._v(" "),n("button",{staticClass:"button",attrs:{type:"submit"}},[e._v("Add New Program")])])],2)},staticRenderFns:[]};var C=n("VU/8")(_,w,!1,function(e){n("6Z0E")},"data-v-075ba057",null).exports,b={name:"CampAdminList",components:{},fiery:!0,props:[],data:function(){return{camps:this.$fiery(V.collection("camps/")),newcamp:{name:""}}},methods:{idOf:function(e){var t=e[".uid"].split("/");return t[t.length-1]},addCamp:function(e){new Date;V.collection("camps").add(e),newcamp={}},logout:function(){var e=this;c.a.auth().signOut().then(function(){e.$router.replace("login")})}}},y={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._l(e.camps,function(t){return n("div",{key:t.id},[n("router-link",{attrs:{to:"/campadmin/"+e.idOf(t)}},[e._v(e._s(t.name))])],1)}),e._v(" "),n("div",[n("form",{on:{submit:function(t){e.addCamp(e.newcamp)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newcamp.name,expression:"newcamp.name"}],staticClass:"input",attrs:{placeholder:"New Camp Name",required:""},domProps:{value:e.newcamp.name},on:{input:function(t){t.target.composing||e.$set(e.newcamp,"name",t.target.value)}}}),e._v(" "),n("button",{staticClass:"button",attrs:{type:"submit"}},[e._v("Add Camp")])])])],2)},staticRenderFns:[]};var k=n("VU/8")(b,y,!1,function(e){n("jeqi")},"data-v-1148b9b3",null).exports,P={name:"login",data:function(){return{email:"",password:""}},creaated:function(){console.log("user is "+c.a.auth.user);var e=this.$router;c.a.auth().onAuthStateChanged(function(t){console.log("user is "+c.a.auth.user),t&&e.replace("/planner")})},methods:{login:function(){c.a.auth().signInWithEmailAndPassword(this.email,this.password).then(function(e){}).catch(function(e){alert(e.message)})}}},x={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login"},[n("h3",[e._v("DC Comics Rebirth - Covers")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"input",attrs:{type:"text",placeholder:"Email address",required:""},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),e._v(" "),n("br"),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"input",attrs:{type:"password",placeholder:"Password",required:""},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),e._v(" "),n("br"),e._v(" "),n("button",{staticClass:"button",on:{click:e.login}},[e._v("Enter")]),e._v(" "),n("p",[n("router-link",{attrs:{to:"/signup"}},[e._v("New Here? Create a new account")])],1)])},staticRenderFns:[]},A=n("VU/8")(P,x,!1,null,null,null).exports,U={name:"signup",data:function(){return{email:"",password:""}},methods:{signUp:function(){var e=this;c.a.auth().createUserWithEmailAndPassword(this.email,this.password).then(function(t){e.$router.replace("/login")}).catch(function(e){alert(e.message)})}}},$={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"sign-up"},[n("h3",[e._v("Create a new account")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"input",attrs:{type:"text",placeholder:"Email",required:""},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),e._v(" "),n("br"),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"input",attrs:{type:"password",placeholder:"Password",required:""},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),e._v(" "),n("br"),e._v(" "),n("button",{staticClass:"button",on:{click:e.signUp}},[e._v("Sign Up!")]),e._v(" "),n("button",{staticClass:"button"},[n("router-link",{attrs:{to:"/login"}},[e._v("\n      Back\n    ")])],1)])},staticRenderFns:[]},N=n("VU/8")(U,$,!1,null,null,null).exports,q={name:"ChildPlanner",props:["child","allcamps"],components:{CampWeekProgramCard:g},computed:{weeks:function(){for(var e=new Date(Date.UTC(2019,5,3)),t=["January","February","March","April","May","June","July","August","September","October","November","December"],n=[],a=0;a<12;a++){var r={};r.name=t[e.getUTCMonth()]+" "+e.getUTCDate(),r.day=e.getUTCDate(),r.seconds=e.getTime()/1e3,n.push(r);var i=e.getTime()+6048e5;e=new Date(i)}return n}}},E={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v("\n  Hello\n  "+e._s(e.child)+"\n  "),n("div",{staticClass:"container"},e._l(e.weeks,function(t){return n("div",{key:t.name,class:"week week"+t.day},[e._v("\n      "+e._s(t.name)+"\n      "),e._l(e.allcamps,function(e,a){return n("CampWeekProgramCard",{key:a,attrs:{camp:e,week:t}})})],2)}),0)])},staticRenderFns:[]};var D={name:"Planner",fiery:!0,components:{ChildPlanner:n("VU/8")(q,E,!1,function(e){n("pXOA")},"data-v-5ef80700",null).exports},methods:{addChild:function(){this.newChild.created_by=this.currentUserId,V.collection("kids").add(this.newChild),this.newChild.name="",this.newChild.grade=""}},created:function(){console.log("user is "+c.a.auth.user);this.$router;var e=this;c.a.auth().onAuthStateChanged(function(t){console.log("user  is "+c.a.auth.user),t&&(e.currentUserId=t.uid,e.mykids=e.$fiery(V.collection("kids/"),{query:function(t){return t.where("created_by","==",e.currentUserId)}}),console.log(e.mykids))})},data:function(){var e=this;return{newChild:{name:"",grade:"K"},children:["Quill"],currentUserId:"",mykids:this.currentUserId?this.$fiery(V.collection("kids/"),{query:function(t){return t.where("created_by","==",e.currentUserId)}}):{},allcamps:this.$fiery(V.collection("camps/"),{sub:{programs:{sub:{sessions:{}}}}})}}},S={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v("\n  Plan all of your summercamps here\n  "),a("img",{staticStyle:{"v-align":"middle"},attrs:{src:n("hJjw"),width:"50em"}}),e._v("\n  add a child "+e._s(e.currentUserId)+"\n  "),a("form",{on:{submit:e.addChild}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newChild.name,expression:"newChild.name"}],attrs:{required:""},domProps:{value:e.newChild.name},on:{input:function(t){t.target.composing||e.$set(e.newChild,"name",t.target.value)}}})]),e._v(" "),e._l(e.mykids,function(t,n){return a("ChildPlanner",{key:n,staticStyle:{clear:"both"},attrs:{child:t.name,allcamps:e.allcamps}},[e._v("inside")])})],2)},staticRenderFns:[]};var W=n("VU/8")(D,S,!1,function(e){n("oMYv")},"data-v-140f2fb4",null).exports;a.a.use(o.a);var I=new o.a({routes:[{path:"/",redirect:"/login"},{path:"/login",name:"Login",component:A},{path:"/signup",name:"SignUp",component:N},{path:"/comics",name:"Comics",component:m,meta:{requiresAuth:!0}},{path:"/planner",name:"Planner",component:W,meta:{requiresAuth:!0}},{path:"/campadmin/:id",name:"CampAdmin",props:!0,component:C,meta:{requiresAuth:!0}},{path:"/campadmin",name:"CampAdminList",props:!0,component:k,meta:{requiresAuth:!0}}]});I.beforeEach(function(e,t,n){var a=c.a.auth().currentUser,r=e.matched.some(function(e){return e.meta.requiresAuth});console.log(r+" current user "+a),n()});var R=I,F=n("yviF"),T=n.n(F);n("881v");n.d(t,"db",function(){return V}),a.a.config.productionTip=!1,a.a.use(p.a);T.a.initializeApp({apiKey:"AIzaSyBA_HUWkNy5fOdzzYsC_N4rbaNyL6Ng-uM",authDomain:"camp-planner-firebase.firebaseapp.com",databaseURL:"https://camp-planner-firebase.firebaseio.com",projectId:"camp-planner-firebase",storageBucket:"camp-planner-firebase.appspot.com",messagingSenderId:"69207551159"});var V=T.a.firestore();new a.a({el:"#app",router:R,components:{App:i},template:"<App/>"})},QYEl:function(e,t){},hJjw:function(e,t,n){e.exports=n.p+"static/img/kidprofile.f50f7e7.png"},jeqi:function(e,t){},oMYv:function(e,t){},oYfq:function(e,t){},pXOA:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.6a72b90937d43841300c.js.map